---
import PagefindSearch from "../search/PagefindSearch.astro";
import SearchIcon from "../../assets/search.svg";
---

<button
  class="btn btn-link text-base-content"
  onclick="modal_search.showModal(); setTimeout(()=>{ const el = document.getElementById('pf-fallback') || document.getElementById('search-dev'); el?.focus?.(); }, 60)"
  aria-label="Open search modal"
>
  <SearchIcon />
</button>
<dialog
  id="modal_search"
  class="modal"
  role="dialog"
  aria-modal="true"
  aria-labelledby="search-modal-title"
>
  <div
    class="modal-box flex h-full w-full max-w-full flex-col items-center justify-start overflow-hidden pt-[15vh]"
  >
    <form method="dialog">
      <button
        class="btn btn-sm btn-ghost absolute top-2 right-2"
        aria-label="Close search modal">âœ•</button
      >
    </form>
    <h3 id="search-modal-title" class="text-lg font-bold">
      Enter one or more keywords
    </h3>
    <PagefindSearch class="w-full" />
    <form method="dialog">
      <!-- if there is a button, it will close the modal -->
      <button class="btn" aria-label="Close search modal">Close</button>
    </form>
  </div>
</dialog>
